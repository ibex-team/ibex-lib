
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Installation &#8212; IBEX 2.9 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="IbexSolve" href="solver.html" />
    <link rel="prev" title="Welcome to IBEX’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="solver.html" title="IbexSolve"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to IBEX’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IBEX 2.9 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<span id="ibex-install-cmake"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="standard-install">
<h2>Standard install<a class="headerlink" href="#standard-install" title="Permalink to this headline">¶</a></h2>
<div class="section" id="linux-and-macos">
<h3>Linux and MacOS<a class="headerlink" href="#linux-and-macos" title="Permalink to this headline">¶</a></h3>
<p><strong>Notice:</strong></p>
<ol class="arabic simple">
<li><p>Ibex can either be compiled with <a class="reference external" href="http://sourceforge.net/projects/gaol">Gaol</a> or <a class="reference external" href="http://www2.math.uni-wuppertal.de/~xsc/software/filib.html">Filib</a> . The library installed by default on Linux and MacOS is Gaol, since our experiments have shown that this library prevails over the other.
If Gaol is not found on your system, the installation automatically extract and build the Gaol library (and its dependencies) from the bundle. Is is actually better to resort to this automatic installation because we use some optimization flags that might not be set if you have installed it on you own. So if Gaol is already installed, we advice you to force the automatic installation by using <code class="docutils literal notranslate"><span class="pre">-DGAOL_DIR=</span></code> (i.e., with empty argument)</p></li>
<li><p>It is also highly recommend to compile Ibex with the <code class="docutils literal notranslate"><span class="pre">-DLP_LIB</span></code> option and to use soplex. However, Soplex is under <a class="reference external" href="http://scip.zib.de/academic.txt">ZIB</a> academic licence. <strong>If you intend to use Ibex with Soplex commercially</strong>, you need to contact Soplex for a commercial licence.</p></li>
</ol>
<p>First, make sure the following applications are installed on your system:</p>
<ul class="simple">
<li><p>g++</p></li>
<li><p>flex</p></li>
<li><p>bison</p></li>
<li><p>cmake</p></li>
<li><p>git</p></li>
<li><p>pkg-config (<em>optionnal but recommended</em>)</p></li>
</ul>
<p>On Ubuntu, you can install all you need with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~$ sudo apt-get install -y g++ gcc flex bison cmake git pkg-config
</pre></div>
</div>
<p>Installation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex$ git clone https://github.com/ibex-team/ibex-lib.git
~/Ibex$ cd ibex-lib
~/Ibex/ibex-lib$ mkdir build
~/Ibex/ibex-lib/build$ cd build
~/Ibex/ibex-lib/build$ cmake -DLP_LIB=soplex ..
~/Ibex/ibex-lib/build$ make
~/Ibex/ibex-lib/build$ sudo make install
</pre></div>
</div>
<p>You can now run ibexsolve:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-lib/build$ ibexsolve -v
</pre></div>
</div>
<p>If you want to install Ibex in a local folder, use <code class="docutils literal notranslate"><span class="pre">-DCMAKE_INSTALL_PREFIX</span></code>, ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-lib/build$ cmake -DCMAKE_INSTALL_PREFIX=$HOME ..
</pre></div>
</div>
<p>See the <a class="reference internal" href="#install-cmake-options"><span class="std std-ref">options</span></a>. The folder full path must not contain any <strong>white space</strong> or wierd characters like <code class="docutils literal notranslate"><span class="pre">'&quot;\()`*[]</span></code>.</p>
</div>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p><strong>Important notice:</strong></p>
<ol class="arabic simple">
<li><p>Ibex can either be compiled with <a class="reference external" href="http://sourceforge.net/projects/gaol">Gaol</a> or <a class="reference external" href="http://www2.math.uni-wuppertal.de/~xsc/software/filib.html">Filib</a>  and our experiments have shown that Gaol prevails over Filib. However, because Gaol does not compile under Windows, the library installed by default under this platform to date is Filib (this may be changed in the future). So, you may not have the best performances of Ibex under this platform.</p></li>
<li><p>It is also highly recommend to compile Ibex with the <code class="docutils literal notranslate"><span class="pre">-DLP_LIB</span></code> option and to use soplex. However, Soplex is under <a class="reference external" href="http://scip.zib.de/academic.txt">ZIB</a> academic licence. <strong>If you intend to use Ibex with Soplex commercially</strong>, you need to contact Soplex for a commercial licence.</p></li>
</ol>
<p>The following procedure has been tested with Visual Studio compiler.</p>
<p>First, install <a class="reference external" href="https://visualstudio.microsoft.com/fr/">Visual Studio</a>, <a class="reference external" href="https://git-scm.com">Git</a>  and <a class="reference external" href="https://chocolatey.org/install">Chocolatey</a>.</p>
<p>Then, open a command with <strong>administrator</strong> privileges and type the following, potentially replacing the version of VisualStudio
with another one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ibex</span><span class="o">-</span><span class="n">team</span><span class="o">/</span><span class="n">ibex</span><span class="o">-</span><span class="n">lib</span><span class="o">.</span><span class="n">git</span>
<span class="n">choco</span> <span class="n">install</span> <span class="n">patch</span>
<span class="n">choco</span> <span class="n">install</span> <span class="n">winflexbison</span>
<span class="n">cd</span> <span class="n">ibex</span><span class="o">-</span><span class="n">lib</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">G</span> <span class="s2">&quot;Visual Studio 17 2022&quot;</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> <span class="o">-</span><span class="n">DLP_LIB</span><span class="o">=</span><span class="n">soplex</span> <span class="o">..</span>
<span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span> <span class="o">--</span><span class="n">config</span> <span class="n">Release</span>
<span class="n">cmake</span> <span class="o">--</span><span class="n">install</span> <span class="o">.</span> <span class="o">--</span><span class="n">config</span> <span class="n">Release</span>
</pre></div>
</div>
<p>You can now run ibexsolve:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">IBEX_PATH</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">IBEX</span>
<span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="nb">bin</span>
<span class="n">ibexsolve</span> <span class="o">-</span><span class="n">b</span>
</pre></div>
</div>
<p>The first instruction add the binary folder of Ibex to your path.</p>
</div>
</div>
<div class="section" id="configuration-options">
<span id="install-cmake-options"></span><h2>Configuration options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cmake</span></code> supports the following generic and ibex-specific options:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CMAKE_INSTALL_PREFIX</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DCMAKE_INSTALL_PREFIX=$HOME</span></code></p>
<p>Set the folder where Ibex must be installed (by default, <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code> under Linux).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The full path of the folder must not contain white space or weird characters like <code class="docutils literal notranslate"><span class="pre">'&quot;\()`*[]</span></code>.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>INTERVAL_LIB</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DINTERVAL_LIB=filib</span></code></p>
<p>Set the underlying interval library.</p>
<p>Possible values are either <code class="docutils literal notranslate"><span class="pre">gaol</span></code>, <code class="docutils literal notranslate"><span class="pre">filib</span></code> or <code class="docutils literal notranslate"><span class="pre">direct</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">gaol</span></code>.
The <code class="docutils literal notranslate"><span class="pre">direct</span></code> library is a simple non-rigorous interval arithmetic, designed
essentially for embedded systems with specific processor architectures that do not
support rounding modes.</p>
</td>
</tr>
<tr class="row-even"><td><p>LP_LIB</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DLP_LIB=soplex</span></code></p>
<p>Set the linear programming library.</p>
<p>Possible values are either <code class="docutils literal notranslate"><span class="pre">soplex</span></code>, <code class="docutils literal notranslate"><span class="pre">clp</span></code> or <code class="docutils literal notranslate"><span class="pre">none</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using Ibex with CLP is experimental.
We do not provide yet any guarantee nor support with this LP solver.</p>
</div>
<p>We recommend to use soplex.</p>
<p>The archive contains a version of Soplex and CLP so it is not necessary to have Soplex or CLP
already installed on your system.</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Soplex is under <a class="reference external" href="http://scip.zib.de/academic.txt">ZIB</a> academic licence. If you intend to use Ibex with Soplex
commercially, you may consider contacting Soplex for a commercial licence.</p>
</div>
</div></blockquote>
<p>If you install your own version of Soplex, use the <code class="docutils literal notranslate"><span class="pre">SOPLEX_DIR</span></code> option.
Soplex must have been compiled with the following argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">ZLIB</span><span class="o">=</span><span class="n">false</span>
</pre></div>
</div>
<p>and if Ibex is installed as a dynamic library (<code class="docutils literal notranslate"><span class="pre">--enable-shared</span></code>), Soplex must also
be installed as a dynamic library. For this, add the option SHARED=true to the
previous command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">ZLIB</span><span class="o">=</span><span class="n">false</span> <span class="n">SHARED</span><span class="o">=</span><span class="n">true</span>
</pre></div>
</div>
<p>Under Windows, add also <code class="docutils literal notranslate"><span class="pre">SHAREDLIBEXT=dll</span></code> to the previous command.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The current release of Ibex (&gt;=2.9.0) is compatible with Soplex 4.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>GAOL_DIR</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DINTERVAL_LIB=goal</span> <span class="pre">-DGAOL_DIR=$HOME/gaol</span></code></p>
<p>Set the path of Goal when using Ibex with your own version of Goal.
Note that the plugin archive embeds a version of Gaol so it is not necessary to have
Goal already installed on your system. Default value is “” (means: use embedded version).</p>
<p>Only to be used with <code class="docutils literal notranslate"><span class="pre">-DINTERVAL_LIB=goal</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To date, this option does not work under Windows.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p>MATHLIB_DIR</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DINTERVAL_LIB=goal</span> <span class="pre">-DMATHLIB_DIR=$HOME/matlib</span></code></p>
<p>Set the path of Mathlib when using Ibex with your own version of Goal.
Mathlib is a tierce library required by Gaol.</p>
<p>Note that the plugin archive embeds a version of Gaol so it is not necessary to have
Goal already installed on your system. Default value is “” (means: use embedded version).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To date, this option does not work under Windows.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>FILIB_DIR</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DINTERVAL_LIB=filib</span> <span class="pre">-DFILIB_DIR=$HOME/filib</span></code></p>
<p>Set the path of Filib when using Ibex with your own version of Filib.
Note that the plugin archive embeds a version of Filib so it is not necessary to have
Filib already installed on your system. Default value is “”
(means: use embedded version).</p>
<p>Only to be used with <code class="docutils literal notranslate"><span class="pre">-DINTERVAL_LIB=filib</span></code>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>To date, this option is not available under MacOS with arm64 architecture because
(Filib give unreliable results).</p>
</div>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>SOPLEX_DIR</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DLP_LIB=soplex</span> <span class="pre">-DSOPLEX_DIR=$HOME/soplex</span></code></p>
<p>Set the path of Soplex when using Ibex with your own version of Soplex. Note that the
plugin archive contains a version of Soplex so this option is not required.</p>
<p>If Ibex is compiled as a shared library, you must also add the libpath of Soplex
in <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-lib/$ export LD_LIBRARY_PATH=[prefix]/lib/:[soplex-path]/lib/
</pre></div>
</div>
<p>Under Windows, if you run a program from a command window, the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable must
also be updated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="nb">set</span> <span class="n">IBEX_PATH</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">IBEX</span>
<span class="o">&gt;</span> <span class="nb">set</span> <span class="n">SOPLEX_PATH</span><span class="o">=...</span>
<span class="o">&gt;</span> <span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="nb">bin</span><span class="p">;</span><span class="o">%</span><span class="n">SOPLEX_PATH</span><span class="o">%</span>\<span class="n">lib</span>
</pre></div>
</div>
<p>Only to be used with <code class="docutils literal notranslate"><span class="pre">-DLP_LIB=soplex</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>CLP_DIR</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DLP_LIB=clp</span> <span class="pre">-DCLP_DIR=$HOME/clp</span></code></p>
<p>Set the path of CLP when using Ibex with your own version of CLP.
Note that the plugin archive embeds a version of CLP so it is not necessary to have
CLP already installed on your system. Default value is “”
(means: use embedded version).</p>
<p>Only to be used with <code class="docutils literal notranslate"><span class="pre">-DLP_LIB=clp</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using Ibex with CLP is experimental.
We do not provide yet any guarantee nor support with this LP solver.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p>CMAKE_BUILD_TYPE</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DCMAKE_BUILD_TYPE=Debug</span></code></p>
<p>Set the build mode either to <code class="docutils literal notranslate"><span class="pre">Relase</span></code> or <code class="docutils literal notranslate"><span class="pre">Debug</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">Release</span></code>.</p>
<p>In debug mode, compiler optimizations are all discarded (<code class="docutils literal notranslate"><span class="pre">-O0</span></code>), low-level assertions
in the code are activated and debug information is stored (<code class="docutils literal notranslate"><span class="pre">-g</span> <span class="pre">-pg</span></code>)</p>
<p>Once Ibex has been compiled with this option, you should also compile your executable
in debug mode. If you use the <code class="docutils literal notranslate"><span class="pre">makefile</span></code> of <code class="docutils literal notranslate"><span class="pre">examples/</span></code>, simply write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">DEBUG</span><span class="o">=</span><span class="n">yes</span> <span class="o">...</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>BUILD_TESTING</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DBUILD_TESTING=0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>BUILD_SHARED_LIBS</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DBUILD_SHARED_LIBS=1</span></code>.</p>
<p>Whether Ibex is also compiled as a dynamic library.
Possibles values are 0 (<em>only static libraries</em>) or 1 (<em>static and
dynamic libraries</em>).</p>
<p>If Ibex is compiled as a dynamic library in a local folder, you must set the library
path accordingly to execute a program. Under Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export LD_LIBRARY_PATH=[prefix]/lib/
</pre></div>
</div>
<p>Under MacOS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export DYLD_LIBRARY_PATH=[prefix]/lib
</pre></div>
</div>
<p>Under Windows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="nb">set</span> <span class="n">IBEX_PATH</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">IBEX</span>
<span class="o">&gt;</span> <span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="nb">bin</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="n">lib</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>BUILD_JAVA_INTERFACE</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DBUILD_JAVA_INTERFACE=ON</span> <span class="pre">-DBUILD_SHARED_LIBS=ON</span></code></p>
<p>Enable the java interface.
The Java interface of Ibex allows to use Ibex with <a class="reference external" href="https://choco-solver.org/">Choco</a>, for solving mixed integer-continuous CSP (constraint satisfaction problems).
This option requires a JDK to be installed.</p>
<p>This option requires JAVA_HOME to be set.</p>
<p><strong>Note</strong></p>
<ul class="simple">
<li><p>Up to ibex 2.8.9, the java interface comes as a separate <a class="reference external" href="https://github.com/ibex-team/ibex-java/">plugin</a>. See instructions there.</p></li>
<li><p>building ibex as a dynamic library is mandatory for enabling the Java interface.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>JAVA_PACKAGE</p></td>
<td><p>Ex: <code class="docutils literal notranslate"><span class="pre">-DJAVA_PACKAGE=org.chocosolver.solver.constraints.real</span></code></p>
<p>This option is only to be used with <code class="docutils literal notranslate"><span class="pre">-DBUILD_JAVA_INTERFACE=ON</span></code>.</p>
<p>Set the name of the Java package in which the ibex Java interface must be generated.
This option will create a [package name].jar file and put it into <code class="docutils literal notranslate"><span class="pre">[prefix]/share/java</span></code> where [prefix] is
<code class="docutils literal notranslate"><span class="pre">/usr/local</span></code> under Linux/Macos or <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\IBEX</span></code> under Windows by default or whatever path specified via <code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="compiling-a-test-program">
<span id="install-compiling-running"></span><h2>Compiling a Test Program<a class="headerlink" href="#compiling-a-test-program" title="Permalink to this headline">¶</a></h2>
<p>Copy-paste the following example code in a file named <code class="docutils literal notranslate"><span class="pre">foo.cpp</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;ibex.h&quot;</span>
<span class="c1">#include &lt;iostream&gt;</span>

<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">ibex</span><span class="p">;</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Interval</span> <span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;My first interval:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There is a simple “makefile” in the <code class="docutils literal notranslate"><span class="pre">examples</span></code> folder that you can use to compile your own programs (note: this makefile uses the extended syntax of GNU make).</p>
<p>This makefile however assumes <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> is installed on your system, which is done by default on many Linux distribution.</p>
<p>So, place the file <code class="docutils literal notranslate"><span class="pre">foo.cpp</span></code> in the <code class="docutils literal notranslate"><span class="pre">examples/</span></code> folder and:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-lib/$ cd examples
~/Ibex/ibex-lib/examples$ make foo
~/Ibex/ibex-lib/examples$ ./foo
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic">
<li><p>It may be necessary to set the <code class="docutils literal notranslate"><span class="pre">PKG_CONFIG_PATH</span></code> to <em>[prefix]</em><code class="docutils literal notranslate"><span class="pre">/share/pkgconfig</span></code> where <em>[prefix]</em> is
<code class="docutils literal notranslate"><span class="pre">/usr/local</span></code> by default or whatever path specified via <code class="docutils literal notranslate"><span class="pre">-DCMAKE_INSTALL_PREFIX</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-lib/$ export PKG_CONFIG_PATH=/usr/local/share/pkgconfig/
</pre></div>
</div>
</li>
</ol>
</div>
<p>Under Windows, if you have compiled Ibex with <code class="docutils literal notranslate"><span class="pre">-DBUILD_SHARED_LIBS=1</span></code> you can run the program from a command window.
Just update the path to dynamically link against Ibex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="nb">set</span> <span class="n">IBEX_PATH</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">IBEX</span>
<span class="o">&gt;</span> <span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="nb">bin</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="n">lib</span>
<span class="o">&gt;</span> <span class="n">cd</span> <span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="n">examples</span>
<span class="o">&gt;</span> <span class="n">foo</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
</div>
<div class="section" id="compiling-a-test-program-java-interface">
<span id="install-compiling-java"></span><h2>Compiling a Test Program (Java interface)<a class="headerlink" href="#compiling-a-test-program-java-interface" title="Permalink to this headline">¶</a></h2>
<p>Copy-paste the following example code in a file named <code class="docutils literal notranslate"><span class="pre">Test.java</span></code>,
possibly replacing the package name (here <cite>ibex</cite>) with the appropriate one
(the one specified with the <code class="docutils literal notranslate"><span class="pre">JAVA_PACKAGE</span></code> option):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ibex.Ibex</span><span class="p">;</span>


<span class="k">class</span> <span class="nc">Test</span> <span class="p">{</span>
  <span class="n">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">Ibex</span> <span class="n">ibex</span><span class="o">=</span><span class="n">new</span> <span class="n">Ibex</span><span class="p">(</span><span class="n">new</span> <span class="n">double</span><span class="p">[]{</span><span class="mf">1e-2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">});</span>
    <span class="n">ibex</span><span class="o">.</span><span class="n">add_ctr</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">-</span><span class="si">{1}</span><span class="s2">=0&quot;</span><span class="p">);</span>


    <span class="n">double</span> <span class="n">domains</span><span class="p">[]</span><span class="o">=</span><span class="p">{</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">10.5</span><span class="p">,</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">12.0</span><span class="p">};</span>
    <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s2">&quot;Before contract:&quot;</span><span class="p">);</span>
    <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s2">&quot;([&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;,&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;] ; [&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;,&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;])&quot;</span><span class="p">);</span>

    <span class="nb">int</span> <span class="n">result</span><span class="o">=</span><span class="n">ibex</span><span class="o">.</span><span class="n">contract</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">domains</span><span class="p">,</span><span class="mf">1e-3</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="o">==</span><span class="n">Ibex</span><span class="o">.</span><span class="n">FAIL</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s2">&quot;Failed!&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="o">==</span><span class="n">Ibex</span><span class="o">.</span><span class="n">CONTRACT</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s2">&quot;After contract #0:&quot;</span><span class="p">);</span>
      <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s2">&quot;([&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;,&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;] ; [&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;,&quot;</span><span class="o">+</span><span class="n">domains</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;])&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s2">&quot;Nothing.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="under-linux-macos">
<h3>Under Linux/Macos<a class="headerlink" href="#under-linux-macos" title="Permalink to this headline">¶</a></h3>
<p>Compile it as follows (possibly replacing <cite>/usr/local</cite> by the folder you specified via <code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">javac</span> <span class="o">-</span><span class="n">cp</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">java</span><span class="o">/</span><span class="n">ibex</span><span class="o">.</span><span class="n">jar</span> <span class="n">Test</span><span class="o">.</span><span class="n">java</span>
</pre></div>
</div>
<p>Then run the test program as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LD_LIBRARY_PATH</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ibex</span><span class="o">/</span><span class="mi">3</span><span class="n">rd</span>
<span class="n">java</span> <span class="o">-</span><span class="n">cp</span> <span class="o">.</span><span class="p">:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">java</span><span class="o">/</span><span class="n">ibex</span><span class="o">.</span><span class="n">jar</span> <span class="n">Test</span>
</pre></div>
</div>
<p>It should display:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Before</span> <span class="n">contract</span><span class="p">:</span>
<span class="p">([</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">10.5</span><span class="p">]</span> <span class="p">;</span> <span class="p">[</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">12.0</span><span class="p">])</span>
<span class="n">Nothing</span><span class="o">.</span>
</pre></div>
</div>
<p>If this test works, you’re ready to go with Choco!</p>
</div>
<div class="section" id="under-windows">
<h3>Under Windows<a class="headerlink" href="#under-windows" title="Permalink to this headline">¶</a></h3>
<p>Under the command window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">IBEX_PATH</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">IBEX</span>
<span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="nb">bin</span><span class="p">;</span><span class="o">%</span><span class="n">IBEX_PATH</span><span class="o">%</span>\<span class="n">lib</span>
<span class="n">javac</span> <span class="o">-</span><span class="n">cp</span> <span class="s2">&quot;%IBEX_PATH%\share\java\ibex.jar&quot;</span> <span class="n">Test</span><span class="o">.</span><span class="n">java</span>
</pre></div>
</div>
<p>Then run the test program as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">java</span> <span class="o">-</span><span class="n">cp</span> <span class="s2">&quot;.;%IBEX_PATH%\share\java\ibex.jar&quot;</span> <span class="n">Test</span>
</pre></div>
</div>
<p>It should display:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Before</span> <span class="n">contract</span><span class="p">:</span>
<span class="p">([</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">10.5</span><span class="p">]</span> <span class="p">;</span> <span class="p">[</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">12.0</span><span class="p">])</span>
<span class="n">Nothing</span><span class="o">.</span>
</pre></div>
</div>
<p>If this test works, you’re ready to go with Choco!</p>
</div>
</div>
<div class="section" id="additional-packages">
<h2>Additional Packages<a class="headerlink" href="#additional-packages" title="Permalink to this headline">¶</a></h2>
<p>There are many developments based on ibex which offer additional functionalities, typically algorithms tailored to some class of problems (e.g., parameter estimation, semi-infinite programming, etc.).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Up to release 2.8, Ibex is compiled with waf (instead of cmake) and packages are rather called <em>plugins</em> as they are installed and compiled with the core library. With Cmake (Release 2.9), they are compiled separately and generate their own libraries.</p>
</div>
<p>The same steps must be done to compile a package as for the core library. See the current list of available packages on Github in the <a class="reference external" href="https://github.com/ibex-team">ibex team page</a>.</p>
<p>We assume here that the package to be installed is ibex-ampl:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-ampl$ mkdir build
~/Ibex/ibex-ampl$ cd build
~/Ibex/ibex-ampl/build$ cmake ..
~/Ibex/ibex-ampl/build$ make
~/Ibex/ibex-ampl/build$ sudo make install
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code> option allows to install the package locally, ex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-ampl$ cmake -DCMAKE_INSTALL_PREFIX=~/Ibex/ibex-ampl ..
</pre></div>
</div>
<p>In this case the <code class="docutils literal notranslate"><span class="pre">sudo</span></code> before <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> is unecessary.</p>
<p>If Ibex has been installed in a local folder, say <code class="docutils literal notranslate"><span class="pre">~/Ibex/ibex-lib</span></code> you need to indicate this
path using the <code class="docutils literal notranslate"><span class="pre">CMAKE_PREFIX_PATH</span></code> option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-ampl$ cmake -DCMAKE_PREFIX_PATH=~/Ibex/ibex-lib ..
</pre></div>
</div>
<p>Of course, you can combine both:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex/ibex-ampl$ cmake -DCMAKE_PREFIX_PATH=~/Ibex/ibex-lib -DCMAKE_INSTALL_PREFIX=~/Ibex/ibex-ampl ..
</pre></div>
</div>
<p>As said above, packages result in separate libraries. To link you own code with a package, you will
have to add the following line in the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file of your project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find_package</span><span class="p">(</span><span class="n">ibex</span><span class="o">-</span><span class="n">ampl</span> <span class="n">REQUIRED</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="running-unit-tests">
<h2>Running unit tests<a class="headerlink" href="#running-unit-tests" title="Permalink to this headline">¶</a></h2>
<p>You can also run the whole unit tests suite with the installed version of Ibex.</p>
<p>To this end, you must install first the <a class="reference external" href="https://sourceforge.net/projects/cppunit/">cppunit library</a>.</p>
<p>The, under Linux/MacOS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex$ cd ibex-lib/build
~/Ibex/ibex-lib/build$ make check
</pre></div>
</div>
<p>Under Windows, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span> <span class="o">--</span><span class="n">config</span> <span class="n">Release</span> <span class="o">--</span><span class="n">target</span> <span class="n">check</span>
</pre></div>
</div>
</div>
<div class="section" id="uninstall">
<h2>Uninstall<a class="headerlink" href="#uninstall" title="Permalink to this headline">¶</a></h2>
<div class="section" id="linux-macos">
<span id="cmake-faq-clean"></span><h3>Linux/Macos<a class="headerlink" href="#linux-macos" title="Permalink to this headline">¶</a></h3>
<p>After running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> you can uninstall by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex$ cd ibex-lib/build
~/Ibex/ibex-lib/build$ make uninstall
</pre></div>
</div>
<p>Then, you can remove the build directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/Ibex$ cd ~/Ibex/ibex-lib
~/Ibex/ibex-lib$ rm -Rf build
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Windows<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><em>(to be completed)</em></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#standard-install">Standard install</a><ul>
<li><a class="reference internal" href="#linux-and-macos">Linux and MacOS</a></li>
<li><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-options">Configuration options</a></li>
<li><a class="reference internal" href="#compiling-a-test-program">Compiling a Test Program</a></li>
<li><a class="reference internal" href="#compiling-a-test-program-java-interface">Compiling a Test Program (Java interface)</a><ul>
<li><a class="reference internal" href="#under-linux-macos">Under Linux/Macos</a></li>
<li><a class="reference internal" href="#under-windows">Under Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-packages">Additional Packages</a></li>
<li><a class="reference internal" href="#running-unit-tests">Running unit tests</a></li>
<li><a class="reference internal" href="#uninstall">Uninstall</a><ul>
<li><a class="reference internal" href="#linux-macos">Linux/Macos</a></li>
<li><a class="reference internal" href="#id1">Windows</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to IBEX’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="solver.html"
                        title="next chapter">IbexSolve</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/install-cmake.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="solver.html" title="IbexSolve"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to IBEX’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IBEX 2.9 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2007-2020, IMT Atlantique.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>